import streamlit as st
import os
import json

st.set_page_config(page_title="Stellar Atlas", layout="wide")
st.title("ğŸŒŸ Stellar Evolution Atlas")

# âœ… YOU must place folders like data/sun_star, data/10M_solar, etc.
star_dirs = sorted(os.listdir("work"))

# âœ… The folder names appear in this dropdown
selected_star = st.selectbox("Choose a Star", star_dirs)

# âœ… YOU must provide metadata.json inside each folder
with open(f"data/{selected_star}/metadata.json") as f:
    meta = json.load(f)

# âœ… YOU must write these in metadata.json
st.subheader(f"{meta['name']} â€” {meta['mass']} Mâ˜‰")
st.markdown(meta["description"])

# âœ… YOU must provide hr.png, temp_rho.png
st.image(f"data/{selected_star}/hr.png", caption="HR Diagram")
# st.image(f"data/{selected_star}/temp_rho.png", caption="T-Ï Evolution")

# âœ… YOU must provide tulips.mp4
# st.video(f"data/{selected_star}/tulips.mp4")
